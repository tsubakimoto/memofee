---
description: 'Infrastructure as Code with Bicep'
applyTo: '**/*.bicep'
---

## 命名規則

-   Bicep コードを記述する際は、すべての名前（変数、パラメーター、リソース）に lowerCamelCase を使用してください
-   リソースタイプは説明的な記号名を使用（例: 『storageAccount』 → 『storageAccountName』 は不可）
-   記号名に 『name』 を含めない（リソース自体を表すため、リソース名ではない）
-   接尾辞による変数とパラメータの区別を避ける

## 構造と宣言

-   パラメータは常にファイルの先頭で @description デコレータ付きで宣言する
-   全リソースで最新の安定版 API バージョンを使用する
-   全パラメータに説明的な @description デコレータを付ける
-   パラメータ命名には最小・最大文字数を指定する

## パラメータ

-   テスト環境に安全なデフォルト値を設定する（低コストの料金プランを使用）
-   有効なデプロイを妨げないよう、@allowed デコレータは控えめに使用
-   デプロイ間で変更される設定にはパラメータを使用

## 変数

-   変数は解決された値から型を自動的に推測
-   リソースプロパティに直接埋め込む代わりに、複雑な式を格納するために変数を使用

## リソース参照

-   reference() や resourceId() 関数ではなく、シンボリック名でリソースを参照
-   リソース依存関係は明示的な dependsOn ではなくシンボリック名（resourceA.id）で作成
-   他リソースのプロパティにアクセスする際は、出力経由で値を渡す代わりに 『existing』 キーワードを使用

## リソース名

-   意味のある一意なリソース名を作成するため、uniqueString() を含むテンプレート式を使用
-   一部リソースでは数字で始まる名前が許可されないため、uniqueString() の結果にプレフィックスを追加

## 子リソース

-   子リソースの過度なネストを避ける
-   子リソースの名前を構築する代わりに、parentプロパティまたはネストを使用する

## セキュリティ

-   出力にシークレットやキーを含めない
-   出力ではリソースのプロパティを直接使用する（例: storageAccount.properties.primaryEndpoints）

## ドキュメント

-   読みやすさを向上させるため、Bicepファイル内に有用な//コメントを含める

